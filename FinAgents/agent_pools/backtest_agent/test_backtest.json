{
  "test_summary": {
    "test_timestamp": "2025-11-29T21:26:25.778263",
    "total_execution_time": 0.12036,
    "total_tests": 12,
    "passed_tests": 11,
    "failed_tests": 1,
    "skipped_tests": 0,
    "partial_tests": 0,
    "success_rate": 91.66666666666666
  },
  "agent_info": {
    "name": "BacktestAgent",
    "tool_count": 20,
    "qlib_available": true,
    "qlib_initialized": true
  },
  "test_results": {
    "agent_initialization": {
      "status": "PASS",
      "init_time": 0.00012063980102539062,
      "tool_count": 20,
      "agent_name": "BacktestAgent",
      "qlib_available": true,
      "qlib_initialized": true
    },
    "basic_functionality": {
      "status": "PASS",
      "total_tools": 20,
      "expected_tools": 11,
      "missing_tools": [],
      "available_tools": [
        "initialize_qlib_data",
        "create_alpha_factor_strategy",
        "run_comprehensive_backtest",
        "analyze_factor_performance",
        "generate_detailed_report",
        "optimize_strategy_parameters",
        "calculate_transaction_costs",
        "run_qlib_backtest",
        "create_qlib_strategy",
        "setup_qlib_dataset",
        "run_long_short_backtest",
        "create_portfolio_analysis",
        "initialize_qlib_system",
        "run_enhanced_backtest",
        "train_qlib_model",
        "analyze_factor_ic",
        "optimize_portfolio_weights",
        "run_walk_forward_analysis",
        "calculate_advanced_risk_metrics",
        "run_factor_attribution_analysis"
      ]
    },
    "qlib_integration": {
      "status": "PASS",
      "qlib_available": true,
      "qlib_initialized": true,
      "components": {
        "qlib_core": true,
        "qlib_version": "0.9.7",
        "backtest_engine": true,
        "executor": true,
        "strategy": true
      },
      "data_access": true
    },
    "strategy_creation": {
      "status": "PASS",
      "total_configs": 3,
      "successful_creations": 3,
      "created_strategies": [
        {
          "name": "momentum_strategy",
          "strategy_id": "alpha_strategy_20251129_212625",
          "creation_time": 0.00078582763671875,
          "asset": "TSLA",
          "factors_count": 2
        },
        {
          "name": "multi_factor_strategy",
          "strategy_id": "alpha_strategy_20251129_212625",
          "creation_time": 0.0002639293670654297,
          "asset": "TSLA",
          "factors_count": 3
        },
        {
          "name": "simple_strategy",
          "strategy_id": "alpha_strategy_20251129_212625",
          "creation_time": 0.00021195411682128906,
          "asset": "TSLA",
          "factors_count": 1
        }
      ]
    },
    "backtest_execution": {
      "status": "PASS",
      "total_configs": 3,
      "successful_executions": 2,
      "backtest_results": [
        {
          "name": "medium_period",
          "execution_time": 0.012999296188354492,
          "total_return": 0.10086628576070103,
          "sharpe_ratio": 0.5424830187161017,
          "max_drawdown": -0.05,
          "volatility": 0.3187447841996349,
          "qlib_native": false
        },
        {
          "name": "long_period",
          "execution_time": 0.009650945663452148,
          "total_return": 0.3558305858903513,
          "sharpe_ratio": 1.107678452186157,
          "max_drawdown": -0.05,
          "volatility": 0.3238098835177076,
          "qlib_native": false
        }
      ]
    },
    "factor_analysis": {
      "status": "PASS",
      "total_factors": 4,
      "successful_analyses": 4,
      "analysis_results": [
        {
          "factor_name": "momentum_factor",
          "description": "Momentum factor",
          "analysis_time": 1.811981201171875e-05,
          "ic_mean": 0.06755845736396911,
          "ic_std": 0.061018151860324533,
          "ic_ir": 0.4236494470818981,
          "simplified": true
        },
        {
          "factor_name": "value_factor",
          "description": "Value factor",
          "analysis_time": 8.106231689453125e-06,
          "ic_mean": -0.03677345109137209,
          "ic_std": 0.07895191005067523,
          "ic_ir": 0.14721219834168298,
          "simplified": true
        },
        {
          "factor_name": "quality_factor",
          "description": "Quality factor",
          "analysis_time": 6.9141387939453125e-06,
          "ic_mean": 0.05200317331404985,
          "ic_std": 0.13282278152937618,
          "ic_ir": -0.5848711724335969,
          "simplified": true
        },
        {
          "factor_name": "volatility_factor",
          "description": "Volatility factor",
          "analysis_time": 7.152557373046875e-06,
          "ic_mean": 0.006275179194818792,
          "ic_std": 0.11352318666415723,
          "ic_ir": 0.06907320344513446,
          "simplified": true
        }
      ]
    },
    "advanced_features": {
      "status": "PASS",
      "total_tests": 4,
      "passed_tests": 1,
      "failed_tests": 3,
      "skipped_tests": 0,
      "test_details": [
        {
          "feature": "enhanced_backtest",
          "status": "FAIL",
          "result": {
            "status": "error",
            "message": "BacktestAgent.run_qlib_backtest() got an unexpected keyword argument 'executor_config'"
          }
        },
        {
          "feature": "ml_model_training",
          "status": "FAIL",
          "result": {
            "status": "error",
            "message": "cannot import name 'GRUModel' from 'qlib.contrib.model' (/Users/lijifeng/miniforge3/envs/agent/lib/python3.12/site-packages/qlib/contrib/model/__init__.py)"
          }
        },
        {
          "feature": "portfolio_optimization",
          "status": "FAIL",
          "result": {
            "status": "error",
            "message": "No module named 'qlib.contrib.portfolio'"
          }
        },
        {
          "feature": "walk_forward_analysis",
          "status": "PASS",
          "result": {
            "status": "success",
            "walk_forward_results": [
              {
                "period": "2020-01-01 to 2020-09-09",
                "metrics": {
                  "total_return": 0.6300619793377836,
                  "cumulative_return": 0.7800337593092426,
                  "volatility": 0.3251980391912699,
                  "sharpe_ratio": 1.9298136524555538,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2020-01-22 to 2020-09-30",
                "metrics": {
                  "total_return": -0.34112058900892794,
                  "cumulative_return": -0.322048356850834,
                  "volatility": 0.30732792099353673,
                  "sharpe_ratio": -1.105569208248795,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2020-02-12 to 2020-10-21",
                "metrics": {
                  "total_return": -0.49623196915062023,
                  "cumulative_return": -0.42136042249879435,
                  "volatility": 0.31720492414699847,
                  "sharpe_ratio": -1.5582058799918028,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2020-03-04 to 2020-11-11",
                "metrics": {
                  "total_return": 0.0481834639940974,
                  "cumulative_return": 0.003022323380988734,
                  "volatility": 0.30022896726453485,
                  "sharpe_ratio": 0.1598547134111989,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2020-03-25 to 2020-12-02",
                "metrics": {
                  "total_return": -0.37763967669538073,
                  "cumulative_return": -0.3532841990637339,
                  "volatility": 0.3402171654880282,
                  "sharpe_ratio": -1.1056086168149468,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2020-04-15 to 2020-12-23",
                "metrics": {
                  "total_return": 0.3700998473135917,
                  "cumulative_return": 0.3644609647414139,
                  "volatility": 0.34389566366979,
                  "sharpe_ratio": 1.0719443162890814,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2020-05-06 to 2021-01-13",
                "metrics": {
                  "total_return": 0.0846360553628244,
                  "cumulative_return": 0.040575605398669445,
                  "volatility": 0.3000083992057649,
                  "sharpe_ratio": 0.28099721782092796,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2020-05-27 to 2021-02-03",
                "metrics": {
                  "total_return": -0.18313812164975296,
                  "cumulative_return": -0.20706908549587733,
                  "volatility": 0.31171556056671856,
                  "sharpe_ratio": -0.5851945768271402,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2020-06-17 to 2021-02-24",
                "metrics": {
                  "total_return": 0.03970831466617214,
                  "cumulative_return": -0.010078725993235338,
                  "volatility": 0.3154464028817922,
                  "sharpe_ratio": 0.1253822026325426,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2020-07-08 to 2021-03-17",
                "metrics": {
                  "total_return": 0.11441970190908951,
                  "cumulative_return": 0.0766778923671505,
                  "volatility": 0.2850084464746544,
                  "sharpe_ratio": 0.3998739389396399,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2020-07-29 to 2021-04-07",
                "metrics": {
                  "total_return": 0.36614337550317433,
                  "cumulative_return": 0.37144530400913967,
                  "volatility": 0.3167563957048076,
                  "sharpe_ratio": 1.1513458715613236,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2020-08-19 to 2021-04-28",
                "metrics": {
                  "total_return": -0.2537384675197119,
                  "cumulative_return": -0.26247106882783877,
                  "volatility": 0.3177110603097795,
                  "sharpe_ratio": -0.7954886695771132,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2020-09-09 to 2021-05-19",
                "metrics": {
                  "total_return": -0.2524508031325926,
                  "cumulative_return": -0.2621378765950403,
                  "volatility": 0.3204398699572479,
                  "sharpe_ratio": -0.7847118834018597,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2020-09-30 to 2021-06-09",
                "metrics": {
                  "total_return": -0.13829549103345146,
                  "cumulative_return": -0.1727656282729534,
                  "volatility": 0.3204122882839055,
                  "sharpe_ratio": -0.429911316064114,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2020-10-21 to 2021-06-30",
                "metrics": {
                  "total_return": 0.581591969677984,
                  "cumulative_return": 0.6859322552351503,
                  "volatility": 0.3425833982488575,
                  "sharpe_ratio": 1.6909552247722506,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2020-11-11 to 2021-07-21",
                "metrics": {
                  "total_return": 0.2360376230844018,
                  "cumulative_return": 0.21401603758701082,
                  "volatility": 0.2900679063960581,
                  "sharpe_ratio": 0.8105159614984645,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2020-12-02 to 2021-08-11",
                "metrics": {
                  "total_return": -0.20267617039541438,
                  "cumulative_return": -0.23031282691613986,
                  "volatility": 0.3435227746200794,
                  "sharpe_ratio": -0.5876614120740277,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2020-12-23 to 2021-09-01",
                "metrics": {
                  "total_return": 0.8572828575503182,
                  "cumulative_return": 1.2396965470287609,
                  "volatility": 0.3157651758614326,
                  "sharpe_ratio": 2.7042069646475015,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2021-01-13 to 2021-09-22",
                "metrics": {
                  "total_return": 0.7638399234062367,
                  "cumulative_return": 1.0297125069463156,
                  "volatility": 0.3319616905101579,
                  "sharpe_ratio": 2.2918933570466185,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2021-02-03 to 2021-10-13",
                "metrics": {
                  "total_return": 0.1263771373358959,
                  "cumulative_return": 0.08209776607405694,
                  "volatility": 0.3085942540018821,
                  "sharpe_ratio": 0.40790656769100586,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2021-02-24 to 2021-11-03",
                "metrics": {
                  "total_return": -0.3642900601783258,
                  "cumulative_return": -0.33987530141131905,
                  "volatility": 0.31814849193019473,
                  "sharpe_ratio": -1.1405057315096603,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2021-03-17 to 2021-11-24",
                "metrics": {
                  "total_return": -0.07428013257883928,
                  "cumulative_return": -0.1176124462410969,
                  "volatility": 0.3182301541932729,
                  "sharpe_ratio": -0.2324937918106052,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2021-04-07 to 2021-12-15",
                "metrics": {
                  "total_return": 0.05412004267657666,
                  "cumulative_return": 0.002019190111952174,
                  "volatility": 0.3224915676584092,
                  "sharpe_ratio": 0.1671551596087466,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2021-04-28 to 2022-01-05",
                "metrics": {
                  "total_return": 0.8946539465933678,
                  "cumulative_return": 1.3147122670277454,
                  "volatility": 0.3290673401421063,
                  "sharpe_ratio": 2.70801035618258,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2021-05-19 to 2022-01-26",
                "metrics": {
                  "total_return": 0.1650637218096452,
                  "cumulative_return": 0.12136125346558346,
                  "volatility": 0.31727438428781063,
                  "sharpe_ratio": 0.5181990862602961,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2021-06-09 to 2022-02-16",
                "metrics": {
                  "total_return": 0.36405345675882816,
                  "cumulative_return": 0.3724006703640024,
                  "volatility": 0.3077264532848017,
                  "sharpe_ratio": 1.1783663913801554,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2021-06-30 to 2022-03-09",
                "metrics": {
                  "total_return": 0.6418876554268576,
                  "cumulative_return": 0.8051592520664441,
                  "volatility": 0.31834817773749696,
                  "sharpe_ratio": 2.0083373952799373,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2021-07-21 to 2022-03-30",
                "metrics": {
                  "total_return": 0.1256111810648057,
                  "cumulative_return": 0.07990416904530928,
                  "volatility": 0.3120853952008169,
                  "sharpe_ratio": 0.4008989081421749,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2021-08-11 to 2022-04-20",
                "metrics": {
                  "total_return": 0.7290391154647445,
                  "cumulative_return": 0.9653616436666506,
                  "volatility": 0.32399228213837666,
                  "sharpe_ratio": 2.241280357484326,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2021-09-01 to 2022-05-11",
                "metrics": {
                  "total_return": -0.02868312215176093,
                  "cumulative_return": -0.07805395399063375,
                  "volatility": 0.32444378430306386,
                  "sharpe_ratio": -0.08805762819224974,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2021-09-22 to 2022-06-01",
                "metrics": {
                  "total_return": 0.44646799179405416,
                  "cumulative_return": 0.4856156464505377,
                  "volatility": 0.31740059570650686,
                  "sharpe_ratio": 1.4010789588609405,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2021-10-13 to 2022-06-22",
                "metrics": {
                  "total_return": 0.529490108020002,
                  "cumulative_return": 0.6145252965102954,
                  "volatility": 0.31641237878567224,
                  "sharpe_ratio": 1.66680350423485,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2021-11-03 to 2022-07-13",
                "metrics": {
                  "total_return": 0.7142005520688185,
                  "cumulative_return": 0.9489773084795614,
                  "volatility": 0.30377203291924676,
                  "sharpe_ratio": 2.3418140839010406,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2021-11-24 to 2022-08-03",
                "metrics": {
                  "total_return": 0.006462737405693364,
                  "cumulative_return": -0.05136416659142151,
                  "volatility": 0.3450623625816173,
                  "sharpe_ratio": 0.018655158276056513,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2021-12-15 to 2022-08-24",
                "metrics": {
                  "total_return": 0.20792895224556368,
                  "cumulative_return": 0.16722074922127517,
                  "volatility": 0.32662490400462296,
                  "sharpe_ratio": 0.6340823866769336,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2022-01-05 to 2022-09-14",
                "metrics": {
                  "total_return": 0.8529059326824507,
                  "cumulative_return": 1.221998210303366,
                  "volatility": 0.32690946241466223,
                  "sharpe_ratio": 2.598685142709259,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2022-01-26 to 2022-10-05",
                "metrics": {
                  "total_return": -0.2255429107126834,
                  "cumulative_return": -0.2379045404070672,
                  "volatility": 0.30265552624567316,
                  "sharpe_ratio": -0.7422677508784098,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2022-02-16 to 2022-10-26",
                "metrics": {
                  "total_return": 0.6444956517768744,
                  "cumulative_return": 0.8111869729253738,
                  "volatility": 0.3158363707107051,
                  "sharpe_ratio": 2.032534241350846,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2022-03-09 to 2022-11-16",
                "metrics": {
                  "total_return": 0.5863533634217613,
                  "cumulative_return": 0.7041590059567282,
                  "volatility": 0.32527027488826965,
                  "sharpe_ratio": 1.79553991337024,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2022-03-30 to 2022-12-07",
                "metrics": {
                  "total_return": 0.4449455571120362,
                  "cumulative_return": 0.4764953319929315,
                  "volatility": 0.33211069340516974,
                  "sharpe_ratio": 1.3344553121028337,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2022-04-20 to 2022-12-28",
                "metrics": {
                  "total_return": 0.2653573786783754,
                  "cumulative_return": 0.23896185493725142,
                  "volatility": 0.3197207655721812,
                  "sharpe_ratio": 0.8266855448421557,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2022-05-11 to 2023-01-18",
                "metrics": {
                  "total_return": 0.4833958800438434,
                  "cumulative_return": 0.5357821875179896,
                  "volatility": 0.32958834824753597,
                  "sharpe_ratio": 1.4608684650158772,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2022-06-01 to 2023-02-08",
                "metrics": {
                  "total_return": 0.24999431308963607,
                  "cumulative_return": 0.21442414177158486,
                  "volatility": 0.33339655376727617,
                  "sharpe_ratio": 0.7468769261750338,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2022-06-22 to 2023-03-01",
                "metrics": {
                  "total_return": 0.5089650884500841,
                  "cumulative_return": 0.5858101433614555,
                  "volatility": 0.30854980836879886,
                  "sharpe_ratio": 1.643019554648196,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2022-07-13 to 2023-03-22",
                "metrics": {
                  "total_return": 0.698954206389559,
                  "cumulative_return": 0.9124831819440657,
                  "volatility": 0.31554600831342344,
                  "sharpe_ratio": 2.2063075532575303,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2022-08-03 to 2023-04-12",
                "metrics": {
                  "total_return": 0.28099118750028573,
                  "cumulative_return": 0.26563694187181186,
                  "volatility": 0.30113639863770975,
                  "sharpe_ratio": 0.9294145498905941,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2022-08-24 to 2023-05-03",
                "metrics": {
                  "total_return": 0.4693106401379974,
                  "cumulative_return": 0.5123132491085522,
                  "volatility": 0.3330438582370368,
                  "sharpe_ratio": 1.4035858815866589,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2022-09-14 to 2023-05-24",
                "metrics": {
                  "total_return": 0.6347085248117861,
                  "cumulative_return": 0.8012472239208002,
                  "volatility": 0.3021405752547302,
                  "sharpe_ratio": 2.0924028324620276,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2022-10-05 to 2023-06-14",
                "metrics": {
                  "total_return": 0.16317633634114104,
                  "cumulative_return": 0.12481179476790416,
                  "volatility": 0.30214329375471777,
                  "sharpe_ratio": 0.5379281087628447,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2022-10-26 to 2023-07-05",
                "metrics": {
                  "total_return": 0.592328486331121,
                  "cumulative_return": 0.7119448395757211,
                  "volatility": 0.32902189446418234,
                  "sharpe_ratio": 1.7931550360147415,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2022-11-16 to 2023-07-26",
                "metrics": {
                  "total_return": -0.26991650646731125,
                  "cumulative_return": -0.2760493942160144,
                  "volatility": 0.32531178456861626,
                  "sharpe_ratio": -0.8264368386220516,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2022-12-07 to 2023-08-16",
                "metrics": {
                  "total_return": -0.04747066258500368,
                  "cumulative_return": -0.09148398373598743,
                  "volatility": 0.3113046051130693,
                  "sharpe_ratio": -0.1518867075237094,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2022-12-28 to 2023-09-06",
                "metrics": {
                  "total_return": 0.2804212230324783,
                  "cumulative_return": 0.2635611639578861,
                  "volatility": 0.3045372675067249,
                  "sharpe_ratio": 0.9171712908521112,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2023-01-18 to 2023-09-27",
                "metrics": {
                  "total_return": 0.19641012910117533,
                  "cumulative_return": 0.15952296811995437,
                  "volatility": 0.31120614122152584,
                  "sharpe_ratio": 0.6286309251878295,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2023-02-08 to 2023-10-18",
                "metrics": {
                  "total_return": 0.4429767350696235,
                  "cumulative_return": 0.47910754458628513,
                  "volatility": 0.3202385845977837,
                  "sharpe_ratio": 1.3778034881016996,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2023-03-01 to 2023-11-08",
                "metrics": {
                  "total_return": 0.6427110745334842,
                  "cumulative_return": 0.811528699069687,
                  "volatility": 0.30942718249882195,
                  "sharpe_ratio": 2.068889712226651,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2023-03-22 to 2023-11-29",
                "metrics": {
                  "total_return": 0.11629460484990352,
                  "cumulative_return": 0.07172654545411916,
                  "volatility": 0.30620786968121916,
                  "sharpe_ratio": 0.3782885870984708,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2023-04-12 to 2023-12-20",
                "metrics": {
                  "total_return": 0.023211229499551872,
                  "cumulative_return": -0.0250079580223439,
                  "volatility": 0.3115118582267952,
                  "sharpe_ratio": 0.07421703186850434,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              }
            ],
            "summary": {
              "total_periods": 58,
              "average_return": 0.24861714775972274,
              "average_sharpe": 0.776238479673134,
              "average_max_drawdown": -0.04999999999999999,
              "consistency_score": 1.429040884895526
            }
          }
        }
      ]
    },
    "performance": {
      "status": "PASS",
      "metrics": {
        "strategy_creation_time": 0.00032591819763183594,
        "backtest_time": 0.008800983428955078,
        "backtest_success": true,
        "factor_analysis_time": 9.775161743164062e-06,
        "factor_analysis_success": true,
        "concurrent_analysis_time": 2.7179718017578125e-05,
        "concurrent_success": true,
        "memory_usage_mb": 446.640625,
        "data_load_time": 0.0035521984100341797,
        "data_load_success": true
      }
    },
    "error_handling": {
      "status": "FAIL",
      "total_tests": 3,
      "passed_tests": 2,
      "test_details": [
        {
          "test": "invalid_strategy_id",
          "status": "PASS",
          "error": "Strategy invalid_strategy_id not found"
        },
        {
          "test": "invalid_parameters",
          "status": "PASS",
          "error": "Valid alpha factor proposals required"
        },
        {
          "test": "invalid_date_range",
          "status": "FAIL",
          "result": {
            "status": "success",
            "results": {
              "strategy_id": "alpha_strategy_20251129_212625",
              "backtest_period": {
                "start_date": "2025-01-01T00:00:00",
                "end_date": "2025-12-31T00:00:00",
                "total_days": 155,
                "trading_days": 155
              },
              "performance_metrics": {
                "total_return": -0.17231638061875143,
                "sharpe_ratio": -0.8099873502099535,
                "max_drawdown": -0.05,
                "volatility": 0.34587340562285745
              },
              "risk_metrics": {
                "var_95": -0.034501953010364135,
                "tracking_error": 0.34587340562285745,
                "beta": 1.0
              },
              "transaction_analysis": {
                "total_costs": 0.01,
                "cost_per_trade": 0.001,
                "turnover": 2.0
              },
              "factor_attribution": {
                "momentum_factor": -0.007793532508816616,
                "value_factor": 0.003350738434269869
              },
              "detailed_results": {
                "returns": [
                  0.0226002060617497,
                  0.010095318266267667,
                  0.052809126959781495,
                  -0.016176749070134416,
                  -0.02195609037611291,
                  0.012292902269643307,
                  -0.01945298195550724,
                  -0.01804267185246046,
                  -0.003487267038997391,
                  0.021962040535607956,
                  -0.03521644529972841,
                  -0.021762645118775757,
                  0.020805824369265792,
                  0.016060097390122104,
                  0.008677258552900751,
                  -0.045711074547945915,
                  -0.0202193260001919,
                  -0.012589039552083053,
                  -0.028287056383464466,
                  0.0007082841514532018,
                  -0.006512707821003061,
                  0.0015491838283990206,
                  -0.028908222649154724,
                  0.013029105692125526,
                  0.019743047980984585,
                  0.052920269191223245,
                  0.03675493378908683,
                  0.005293741864376473,
                  0.0008918141815555304,
                  0.03448740703591972,
                  0.027976263041418724,
                  0.013249326083420256,
                  -0.010182185620834923,
                  -0.007380129419031405,
                  -0.006395445414019581,
                  0.026495477730356192,
                  0.01495728442690127,
                  -0.011351078500849815,
                  -0.03511095299990256,
                  0.02594687139726831,
                  0.015992980348932696,
                  -0.01191120120170306,
                  0.02200898956165952,
                  -0.001173727252877754,
                  -0.009696192521739734,
                  -0.012508166737889789,
                  -0.020329686031424283,
                  0.022174159050171716,
                  -0.00800729121555347,
                  0.028024241502306174,
                  0.02474691090314104,
                  -0.015197669666169037,
                  0.007040606971063486,
                  -0.018978260066414412,
                  -0.0001994925164936468,
                  -0.0011536211116314249,
                  -0.016997510459863748,
                  -0.012263784525750368,
                  -0.015095728038984523,
                  -0.011078846022130552,
                  -0.00030024734961403516,
                  -0.03476159428171481,
                  0.034310271818135896,
                  -0.021213312105539027,
                  -0.01747225707862731,
                  -0.006754635612372658,
                  -0.010669580266448781,
                  0.011436926590560056,
                  -0.015139562727118855,
                  -0.022215128235307365,
                  -0.02835917638994903,
                  -0.00766564307711219,
                  0.03846277708348742,
                  0.006081356784941233,
                  0.002359131946371462,
                  0.044613682468816,
                  0.005705477191807748,
                  0.0345500452745732,
                  -0.03009312958918238,
                  0.01866522688100919,
                  0.018858145387877705,
                  0.0062697027352490425,
                  -0.017087351406375618,
                  -0.03229527665322103,
                  -0.03796571327855125,
                  -0.012482148323834595,
                  0.0009613573037508059,
                  -0.027983292154784907,
                  -0.01837492337536356,
                  0.005416915086292174,
                  0.009313269849174544,
                  -0.005507858219526699,
                  -0.016491804342732987,
                  -0.014169215422292747,
                  0.02345794922876332,
                  -0.024737031571194033,
                  -0.004416268373903186,
                  -0.038779423759325166,
                  -0.013365467221606545,
                  0.011133809305528729,
                  -0.004851965970869241,
                  -0.017165578434491575,
                  -0.0007615667131101573,
                  -0.03439067817978527,
                  0.0018452495429826755,
                  -0.012635702601902494,
                  0.021657626681525394,
                  -0.03258385164980362,
                  0.05617885373026766,
                  -0.010696299864716902,
                  0.009559734963600358,
                  -0.03564151510025889,
                  0.01538434629002509,
                  -0.03277999510822567,
                  0.013383099170011946,
                  -0.0003402773938444784,
                  -0.00033687779468881884,
                  0.010362090631996019,
                  0.009052590646246092,
                  -0.00611018896289866,
                  -0.04891426844026974,
                  -0.0020244752915465924,
                  -0.027443230752771833,
                  -0.02998255995876308,
                  -0.0016631653133025784,
                  -0.00663998488655504,
                  0.00533174048582961,
                  -0.0187773593823301,
                  0.036690181286965946,
                  0.000934604504374626,
                  0.025534659453486493,
                  0.03205686806399298,
                  -0.014025556696904388,
                  -0.02621804180959119,
                  0.04024181139621839,
                  0.011992246458648862,
                  -0.0016196198087991636,
                  -0.014995112016547917,
                  0.020490635958594402,
                  0.02976901904463222,
                  -0.004830909508239327,
                  -0.011292334067051995,
                  -0.019181311432764043,
                  0.022486069129837572,
                  -0.010468905606293872,
                  0.040437031187979006,
                  0.0010770356399243438,
                  0.003259977063127762,
                  -0.0037617034349956206,
                  -0.027566290655111732,
                  0.011875218067406112,
                  -0.001645127045620504,
                  -0.027071923127083456,
                  0.03941056942672619,
                  -0.014167692702931502
                ],
                "positions": [
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1
                ],
                "trades": [
                  "mock_trade",
                  "mock_trade",
                  "mock_trade",
                  "mock_trade",
                  "mock_trade",
                  "mock_trade",
                  "mock_trade",
                  "mock_trade",
                  "mock_trade",
                  "mock_trade"
                ]
              },
              "benchmark_comparison": "SPY"
            }
          }
        }
      ]
    },
    "data_validation": {
      "status": "PASS",
      "total_tests": 3,
      "passed_tests": 3,
      "test_details": [
        {
          "test": "qlib_data_path",
          "status": "PASS",
          "path": "/Users/lijifeng/Documents/AI_agent/FinAgent-Orchestration/FinAgents/agent_pools/backtest_agent/qlib_data",
          "exists": true
        },
        {
          "test": "asset_scanning",
          "status": "PASS",
          "asset_count": 38,
          "assets": [
            "TSLA",
            "GBTC",
            "PEP",
            "MA",
            "QQQ"
          ]
        },
        {
          "test": "data_loading",
          "status": "PASS",
          "asset": "TSLA",
          "data_shape": [
            753,
            7
          ],
          "data_types": [
            "float64",
            "float64",
            "float64",
            "float64",
            "int64",
            "float64",
            "float64"
          ]
        }
      ]
    },
    "advanced_qlib_features": {
      "status": "PASS",
      "total_tests": 5,
      "passed_tests": 4,
      "test_details": [
        {
          "test": "qlib_system_init",
          "status": "PASS",
          "result": {
            "status": "success",
            "message": "Qlib already initialized",
            "provider_uri": "/Users/lijifeng/Documents/AI_agent/FinAgent-Orchestration/FinAgents/agent_pools/backtest_agent/datasets/qlib_data",
            "region": "US"
          }
        },
        {
          "test": "qlib_dataset_setup",
          "status": "PASS",
          "result": {
            "status": "success",
            "dataset_config": {
              "class": "DatasetH",
              "module_path": "qlib.data.dataset",
              "kwargs": {
                "handler": {
                  "class": "Alpha158",
                  "module_path": "qlib.contrib.data.handler",
                  "kwargs": {
                    "start_time": "2020-01-01",
                    "end_time": "2023-12-31",
                    "fit_start_time": "2020-01-01",
                    "fit_end_time": "2023-12-31",
                    "instruments": "csi500",
                    "infer_processors": [
                      {
                        "class": "RobustZScoreNorm",
                        "kwargs": {}
                      },
                      {
                        "class": "Fillna",
                        "kwargs": {}
                      }
                    ],
                    "learn_processors": [
                      {
                        "class": "DropnaLabel",
                        "kwargs": {}
                      },
                      {
                        "class": "CSRankNorm",
                        "kwargs": {
                          "fields_group": "feature"
                        }
                      }
                    ]
                  }
                },
                "segments": {
                  "train": [
                    "2020-01-01",
                    "2022-12-31"
                  ],
                  "valid": [
                    "2023-01-01",
                    "2023-06-30"
                  ],
                  "test": [
                    "2023-07-01",
                    "2023-12-31"
                  ]
                }
              }
            },
            "instruments": "csi500",
            "time_range": "2020-01-01 to 2023-12-31",
            "fields_count": 7,
            "segments": {
              "train": [
                "2020-01-01",
                "2022-12-31"
              ],
              "valid": [
                "2023-01-01",
                "2023-06-30"
              ],
              "test": [
                "2023-07-01",
                "2023-12-31"
              ]
            }
          }
        },
        {
          "test": "qlib_strategy_creation",
          "status": "PASS",
          "result": {
            "status": "success",
            "strategy_id": "qlib_topk_20251129_212625",
            "strategy_type": "topk",
            "config": {
              "class": "TopkDropoutStrategy",
              "module_path": "qlib.contrib.strategy",
              "kwargs": {
                "topk": 30,
                "n_drop": 3,
                "method_sell": "bottom",
                "method_buy": "top",
                "hold_thresh": 1
              }
            },
            "parameters": {
              "topk": 30,
              "n_drop": 3,
              "method_sell": "bottom",
              "method_buy": "top",
              "hold_thresh": 1
            }
          }
        },
        {
          "test": "long_short_backtest",
          "status": "PASS",
          "result": {
            "status": "success",
            "backtest_type": "long_short_mock",
            "parameters": {
              "topk": 20,
              "period": "2023-01-01 to 2023-12-31",
              "simulation": "mock_data"
            },
            "returns": {
              "long": {
                