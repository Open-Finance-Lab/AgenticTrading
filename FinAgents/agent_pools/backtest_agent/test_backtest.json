{
  "test_summary": {
    "test_timestamp": "2025-10-17T05:53:27.752114",
    "total_execution_time": 0.512128,
    "total_tests": 12,
    "passed_tests": 11,
    "failed_tests": 1,
    "skipped_tests": 0,
    "partial_tests": 0,
    "success_rate": 91.66666666666666
  },
  "agent_info": {
    "name": "BacktestAgent",
    "tool_count": 20,
    "qlib_available": true,
    "qlib_initialized": true
  },
  "test_results": {
    "agent_initialization": {
      "status": "PASS",
      "init_time": 0.001984834671020508,
      "tool_count": 20,
      "agent_name": "BacktestAgent",
      "qlib_available": true,
      "qlib_initialized": true
    },
    "basic_functionality": {
      "status": "PASS",
      "total_tools": 20,
      "expected_tools": 11,
      "missing_tools": [],
      "available_tools": [
        "initialize_qlib_data",
        "create_alpha_factor_strategy",
        "run_comprehensive_backtest",
        "analyze_factor_performance",
        "generate_detailed_report",
        "optimize_strategy_parameters",
        "calculate_transaction_costs",
        "run_qlib_backtest",
        "create_qlib_strategy",
        "setup_qlib_dataset",
        "run_long_short_backtest",
        "create_portfolio_analysis",
        "initialize_qlib_system",
        "run_enhanced_backtest",
        "train_qlib_model",
        "analyze_factor_ic",
        "optimize_portfolio_weights",
        "run_walk_forward_analysis",
        "calculate_advanced_risk_metrics",
        "run_factor_attribution_analysis"
      ]
    },
    "qlib_integration": {
      "status": "PASS",
      "qlib_available": true,
      "qlib_initialized": true,
      "components": {
        "qlib_core": true,
        "qlib_version": "0.9.7",
        "backtest_engine": true,
        "executor": true,
        "strategy": true
      },
      "data_access": true
    },
    "strategy_creation": {
      "status": "PASS",
      "total_configs": 3,
      "successful_creations": 3,
      "created_strategies": [
        {
          "name": "momentum_strategy",
          "strategy_id": "alpha_strategy_20251017_055327",
          "creation_time": 0.001995563507080078,
          "asset": "TMO",
          "factors_count": 2
        },
        {
          "name": "multi_factor_strategy",
          "strategy_id": "alpha_strategy_20251017_055327",
          "creation_time": 0.0009965896606445312,
          "asset": "TMO",
          "factors_count": 3
        },
        {
          "name": "simple_strategy",
          "strategy_id": "alpha_strategy_20251017_055327",
          "creation_time": 0.0009992122650146484,
          "asset": "TMO",
          "factors_count": 1
        }
      ]
    },
    "backtest_execution": {
      "status": "PASS",
      "total_configs": 3,
      "successful_executions": 2,
      "backtest_results": [
        {
          "name": "medium_period",
          "execution_time": 0.04479503631591797,
          "total_return": 0.4436923812105418,
          "sharpe_ratio": 2.4871640560508887,
          "max_drawdown": -0.05,
          "volatility": 0.3058163810289,
          "qlib_native": false
        },
        {
          "name": "long_period",
          "execution_time": 0.03390955924987793,
          "total_return": 0.2951447749802431,
          "sharpe_ratio": 0.8974905261596687,
          "max_drawdown": -0.05,
          "volatility": 0.33148643301350805,
          "qlib_native": false
        }
      ]
    },
    "factor_analysis": {
      "status": "PASS",
      "total_factors": 4,
      "successful_analyses": 4,
      "analysis_results": [
        {
          "factor_name": "momentum_factor",
          "description": "动量因子",
          "analysis_time": 0.0009975433349609375,
          "ic_mean": -0.06714391213957122,
          "ic_std": 0.08880900019649439,
          "ic_ir": -0.32021978492882464,
          "simplified": true
        },
        {
          "factor_name": "value_factor",
          "description": "价值因子",
          "analysis_time": 0.0,
          "ic_mean": 0.00421009808938104,
          "ic_std": 0.12784035999950571,
          "ic_ir": -0.03773385569358534,
          "simplified": true
        },
        {
          "factor_name": "quality_factor",
          "description": "质量因子",
          "analysis_time": 0.0,
          "ic_mean": -0.015471407116748076,
          "ic_std": 0.1479786441060854,
          "ic_ir": 0.40670354632647054,
          "simplified": true
        },
        {
          "factor_name": "volatility_factor",
          "description": "波动率因子",
          "analysis_time": 0.0,
          "ic_mean": 0.03309734226914879,
          "ic_std": 0.12673791993276196,
          "ic_ir": -0.8897571173684737,
          "simplified": true
        }
      ]
    },
    "advanced_features": {
      "status": "PASS",
      "total_tests": 4,
      "passed_tests": 1,
      "failed_tests": 3,
      "skipped_tests": 0,
      "test_details": [
        {
          "feature": "enhanced_backtest",
          "status": "FAIL",
          "result": {
            "status": "error",
            "message": "BacktestAgent.run_qlib_backtest() got an unexpected keyword argument 'executor_config'"
          }
        },
        {
          "feature": "ml_model_training",
          "status": "FAIL",
          "result": {
            "status": "error",
            "message": "cannot import name 'GRUModel' from 'qlib.contrib.model' (C:\\Users\\suzhe_wilfpq2\\AppData\\Roaming\\Python\\Python311\\site-packages\\qlib\\contrib\\model\\__init__.py)"
          }
        },
        {
          "feature": "portfolio_optimization",
          "status": "FAIL",
          "result": {
            "status": "error",
            "message": "No module named 'qlib.contrib.portfolio'"
          }
        },
        {
          "feature": "walk_forward_analysis",
          "status": "PASS",
          "result": {
            "status": "success",
            "walk_forward_results": [
              {
                "period": "2020-01-01 to 2020-09-09",
                "metrics": {
                  "total_return": 0.45284874099803163,
                  "cumulative_return": 0.4923832698079533,
                  "volatility": 0.32351438336836175,
                  "sharpe_ratio": 1.3942465875222627,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2020-01-22 to 2020-09-30",
                "metrics": {
                  "total_return": -0.025693484417527834,
                  "cumulative_return": -0.06894840043134753,
                  "volatility": 0.3024267512910129,
                  "sharpe_ratio": -0.08462190938434606,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2020-02-12 to 2020-10-21",
                "metrics": {
                  "total_return": 0.9204802292560093,
                  "cumulative_return": 1.3891886139449272,
                  "volatility": 0.3109518260238563,
                  "sharpe_ratio": 2.9485016351373785,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2020-03-04 to 2020-11-11",
                "metrics": {
                  "total_return": 0.33632586676787646,
                  "cumulative_return": 0.33723225335217766,
                  "volatility": 0.3017855499557208,
                  "sharpe_ratio": 1.1100482298273775,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2020-03-25 to 2020-12-02",
                "metrics": {
                  "total_return": 0.5118281926519028,
                  "cumulative_return": 0.5898326046108402,
                  "volatility": 0.30867205097291495,
                  "sharpe_ratio": 1.6516077652979484,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2020-04-15 to 2020-12-23",
                "metrics": {
                  "total_return": 0.17263715963560383,
                  "cumulative_return": 0.12596485950452263,
                  "volatility": 0.328433199590661,
                  "sharpe_ratio": 0.5235609540544396,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2020-05-06 to 2021-01-13",
                "metrics": {
                  "total_return": 0.11520074922341692,
                  "cumulative_return": 0.06922540955337664,
                  "volatility": 0.3107515637827068,
                  "sharpe_ratio": 0.36925127229260185,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2020-05-27 to 2021-02-03",
                "metrics": {
                  "total_return": 0.3001612980669289,
                  "cumulative_return": 0.2858232523648703,
                  "volatility": 0.3121949216797184,
                  "sharpe_ratio": 0.9576545581381795,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2020-06-17 to 2021-02-24",
                "metrics": {
                  "total_return": -0.11131834206762015,
                  "cumulative_return": -0.14293505175221233,
                  "volatility": 0.29289577091935726,
                  "sharpe_ratio": -0.3785590630847333,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2020-07-08 to 2021-03-17",
                "metrics": {
                  "total_return": 0.32412688877075996,
                  "cumulative_return": 0.3235975836392042,
                  "volatility": 0.29524121711520257,
                  "sharpe_ratio": 1.0934982519634975,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2020-07-29 to 2021-04-07",
                "metrics": {
                  "total_return": 0.596041706371737,
                  "cumulative_return": 0.7308130322444593,
                  "volatility": 0.30611932567379707,
                  "sharpe_ratio": 1.9393934342183847,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2020-08-19 to 2021-04-28",
                "metrics": {
                  "total_return": 0.15427889433448422,
                  "cumulative_return": 0.1150513158964519,
                  "volatility": 0.3012377119016172,
                  "sharpe_ratio": 0.5101256923082386,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2020-09-09 to 2021-05-19",
                "metrics": {
                  "total_return": 0.5560303100703144,
                  "cumulative_return": 0.6456692725407525,
                  "volatility": 0.33900761846113725,
                  "sharpe_ratio": 1.6336876567057346,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2020-09-30 to 2021-06-09",
                "metrics": {
                  "total_return": 0.32381017068106716,
                  "cumulative_return": 0.31064899143402913,
                  "volatility": 0.3267161581848918,
                  "sharpe_ratio": 0.9871880545344519,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2020-10-21 to 2021-06-30",
                "metrics": {
                  "total_return": -0.5289815922109102,
                  "cumulative_return": -0.44021696138983546,
                  "volatility": 0.31802736023549744,
                  "sharpe_ratio": -1.6567466254724161,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2020-11-11 to 2021-07-21",
                "metrics": {
                  "total_return": 0.31857612019283316,
                  "cumulative_return": 0.3114117645570649,
                  "volatility": 0.3084660565895315,
                  "sharpe_ratio": 1.0286931714633338,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2020-12-02 to 2021-08-11",
                "metrics": {
                  "total_return": 0.8207385860495312,
                  "cumulative_return": 1.1531546072649141,
                  "volatility": 0.325189371313188,
                  "sharpe_ratio": 2.513903073512174,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2020-12-23 to 2021-09-01",
                "metrics": {
                  "total_return": -0.12717882534779698,
                  "cumulative_return": -0.16544208779984437,
                  "volatility": 0.32761892101752643,
                  "sharpe_ratio": -0.38665697893827927,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2021-01-13 to 2021-09-22",
                "metrics": {
                  "total_return": 0.6226576576664467,
                  "cumulative_return": 0.7758583988602767,
                  "volatility": 0.30990284969206544,
                  "sharpe_ratio": 2.001261236615191,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2021-02-03 to 2021-10-13",
                "metrics": {
                  "total_return": 0.6756700025873418,
                  "cumulative_return": 0.8686886541079604,
                  "volatility": 0.3154515586306785,
                  "sharpe_ratio": 2.1334475983806316,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2021-02-24 to 2021-11-03",
                "metrics": {
                  "total_return": -0.2680584422143179,
                  "cumulative_return": -0.2646316949622436,
                  "volatility": 0.27920643363312947,
                  "sharpe_ratio": -0.9562778307275832,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2021-03-17 to 2021-11-24",
                "metrics": {
                  "total_return": 0.19383434455419707,
                  "cumulative_return": 0.15996694316379978,
                  "volatility": 0.3013299623613374,
                  "sharpe_ratio": 0.640720223727093,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2021-04-07 to 2021-12-15",
                "metrics": {
                  "total_return": 0.14498472249053582,
                  "cumulative_return": 0.10185789207985385,
                  "volatility": 0.3101873082023512,
                  "sharpe_ratio": 0.4655627632968699,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2021-04-28 to 2022-01-05",
                "metrics": {
                  "total_return": 0.5419234914183426,
                  "cumulative_return": 0.6357693671034359,
                  "volatility": 0.31463856842456145,
                  "sharpe_ratio": 1.7155605049833695,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2021-05-19 to 2022-01-26",
                "metrics": {
                  "total_return": 0.3757268850709707,
                  "cumulative_return": 0.38499835370715174,
                  "volatility": 0.315748963047442,
                  "sharpe_ratio": 1.1852510771745062,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2021-06-09 to 2022-02-16",
                "metrics": {
                  "total_return": 0.6989289396999949,
                  "cumulative_return": 0.9152352155234749,
                  "volatility": 0.31120385607160517,
                  "sharpe_ratio": 2.237010760434672,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2021-06-30 to 2022-03-09",
                "metrics": {
                  "total_return": 0.08848912837737011,
                  "cumulative_return": 0.031587475351798844,
                  "volatility": 0.3383492214572193,
                  "sharpe_ratio": 0.2604982171883417,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2021-07-21 to 2022-03-30",
                "metrics": {
                  "total_return": 0.7216308917801593,
                  "cumulative_return": 0.9499014020057102,
                  "volatility": 0.32581127880691924,
                  "sharpe_ratio": 2.206119439441436,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2021-08-11 to 2022-04-20",
                "metrics": {
                  "total_return": 0.44577470875742775,
                  "cumulative_return": 0.4838826396102134,
                  "volatility": 0.3193919055528306,
                  "sharpe_ratio": 1.3901816097008164,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2021-09-01 to 2022-05-11",
                "metrics": {
                  "total_return": 0.569764747082086,
                  "cumulative_return": 0.681842070513319,
                  "volatility": 0.3137755588949692,
                  "sharpe_ratio": 1.8086581201775627,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2021-09-22 to 2022-06-01",
                "metrics": {
                  "total_return": -0.01992207211110203,
                  "cumulative_return": -0.07042110268677637,
                  "volatility": 0.3251006883970526,
                  "sharpe_ratio": -0.06103748608135481,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2021-10-13 to 2022-06-22",
                "metrics": {
                  "total_return": -0.07991536480380597,
                  "cumulative_return": -0.11392058046667897,
                  "volatility": 0.2864957927816612,
                  "sharpe_ratio": -0.2778382643033756,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2021-11-03 to 2022-07-13",
                "metrics": {
                  "total_return": 0.24646002441580417,
                  "cumulative_return": 0.2165727900726926,
                  "volatility": 0.31661502927221746,
                  "sharpe_ratio": 0.7753449818410487,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2021-11-24 to 2022-08-03",
                "metrics": {
                  "total_return": 0.5398298313044914,
                  "cumulative_return": 0.620823201060557,
                  "volatility": 0.33549445915462284,
                  "sharpe_ratio": 1.602697457094034,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2021-12-15 to 2022-08-24",
                "metrics": {
                  "total_return": 0.18410217414954205,
                  "cumulative_return": 0.14560439849943685,
                  "volatility": 0.31054862967730734,
                  "sharpe_ratio": 0.5904856117459648,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2022-01-05 to 2022-09-14",
                "metrics": {
                  "total_return": 0.43004540931635715,
                  "cumulative_return": 0.4523785333406971,
                  "volatility": 0.3359189639351456,
                  "sharpe_ratio": 1.2751457079764903,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2022-01-26 to 2022-10-05",
                "metrics": {
                  "total_return": 0.02030846957737245,
                  "cumulative_return": -0.028510737155545418,
                  "volatility": 0.31346972677057927,
                  "sharpe_ratio": 0.06452999195496913,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2022-02-16 to 2022-10-26",
                "metrics": {
                  "total_return": 0.3455258876240407,
                  "cumulative_return": 0.35481032270103774,
                  "volatility": 0.288585235008503,
                  "sharpe_ratio": 1.1925772038997566,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2022-03-09 to 2022-11-16",
                "metrics": {
                  "total_return": -0.17667545553206293,
                  "cumulative_return": -0.20203480177074162,
                  "volatility": 0.31279714790833757,
                  "sharpe_ratio": -0.562591873839613,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2022-03-30 to 2022-12-07",
                "metrics": {
                  "total_return": -0.05911469125884422,
                  "cumulative_return": -0.1035621421262044,
                  "volatility": 0.3170262819661986,
                  "sharpe_ratio": -0.1857291956600642,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2022-04-20 to 2022-12-28",
                "metrics": {
                  "total_return": 0.1449193686136293,
                  "cumulative_return": 0.10120619062748193,
                  "volatility": 0.31025723802426514,
                  "sharpe_ratio": 0.4652480171109744,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2022-05-11 to 2023-01-18",
                "metrics": {
                  "total_return": 0.5805231539807056,
                  "cumulative_return": 0.7075447406522763,
                  "volatility": 0.3000124220962069,
                  "sharpe_ratio": 1.9273488478234049,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2022-06-01 to 2023-02-08",
                "metrics": {
                  "total_return": 0.388829043602624,
                  "cumulative_return": 0.40946342941315916,
                  "volatility": 0.3014937558391767,
                  "sharpe_ratio": 1.284577748001803,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2022-06-22 to 2023-03-01",
                "metrics": {
                  "total_return": -0.23580227431414147,
                  "cumulative_return": -0.2542084738409479,
                  "volatility": 0.3383147880563671,
                  "sharpe_ratio": -0.6942358353999849,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2022-07-13 to 2023-03-22",
                "metrics": {
                  "total_return": 0.18735534575053842,
                  "cumulative_return": 0.1445296058394785,
                  "volatility": 0.3237724756637959,
                  "sharpe_ratio": 0.5763763902552287,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2022-08-03 to 2023-04-12",
                "metrics": {
                  "total_return": 0.24881276423528415,
                  "cumulative_return": 0.2215738144278494,
                  "volatility": 0.3116303168646542,
                  "sharpe_ratio": 0.7952670236571086,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2022-08-24 to 2023-05-03",
                "metrics": {
                  "total_return": 0.22832973966578612,
                  "cumulative_return": 0.19808056435746946,
                  "volatility": 0.30871836458358,
                  "sharpe_ratio": 0.736681962159806,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2022-09-14 to 2023-05-24",
                "metrics": {
                  "total_return": 0.23096256236771745,
                  "cumulative_return": 0.19983765310839408,
                  "volatility": 0.3119439125291255,
                  "sharpe_ratio": 0.7374712492355769,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2022-10-05 to 2023-06-14",
                "metrics": {
                  "total_return": 0.14235478026882703,
                  "cumulative_return": 0.1001569825141464,
                  "volatility": 0.3062951016464757,
                  "sharpe_ratio": 0.46292647969537465,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2022-10-26 to 2023-07-05",
                "metrics": {
                  "total_return": 0.32741341336812957,
                  "cumulative_return": 0.3237855044687332,
                  "volatility": 0.30561407602076957,
                  "sharpe_ratio": 1.0670951202602859,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2022-11-16 to 2023-07-26",
                "metrics": {
                  "total_return": -0.10138270432812138,
                  "cumulative_return": -0.13626729024568485,
                  "volatility": 0.3001194797388317,
                  "sharpe_ratio": -0.3364726017268283,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2022-12-07 to 2023-08-16",
                "metrics": {
                  "total_return": -0.48005915394707105,
                  "cumulative_return": -0.410346001680026,
                  "volatility": 0.30833463250285603,
                  "sharpe_ratio": -1.55078812605001,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2022-12-28 to 2023-09-06",
                "metrics": {
                  "total_return": 0.04085512189922681,
                  "cumulative_return": -0.0021331765729190044,
                  "volatility": 0.29336249885912136,
                  "sharpe_ratio": 0.13871452337033327,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2023-01-18 to 2023-09-27",
                "metrics": {
                  "total_return": 0.10568554452419299,
                  "cumulative_return": 0.06068257665527854,
                  "volatility": 0.30545871781289013,
                  "sharpe_ratio": 0.3446220682549921,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2023-02-08 to 2023-10-18",
                "metrics": {
                  "total_return": -0.16518212447710023,
                  "cumulative_return": -0.20024018042488756,
                  "volatility": 0.3401592411827331,
                  "sharpe_ratio": -0.4836829660496526,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2023-03-01 to 2023-11-08",
                "metrics": {
                  "total_return": 0.11065431788160407,
                  "cumulative_return": 0.0721665485511489,
                  "volatility": 0.2862000020036712,
                  "sharpe_ratio": 0.3851046410363353,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2023-03-22 to 2023-11-29",
                "metrics": {
                  "total_return": 0.16159703085822374,
                  "cumulative_return": 0.1215949989624403,
                  "volatility": 0.30630800497437843,
                  "sharpe_ratio": 0.5254786189135344,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              },
              {
                "period": "2023-04-12 to 2023-12-20",
                "metrics": {
                  "total_return": -0.17886350386163402,
                  "cumulative_return": -0.20041216657259198,
                  "volatility": 0.29882531085471303,
                  "sharpe_ratio": -0.5961895696889545,
                  "max_drawdown": -0.05,
                  "calmar_ratio": 1.2
                }
              }
            ],
            "summary": {
              "total_periods": 58,
              "average_return": 0.22567045491495533,
              "average_sharpe": 0.7145154690685572,
              "average_max_drawdown": -0.04999999999999999,
              "consistency_score": 1.3669213534876725
            }
          }
        }
      ]
    },
    "performance": {
      "status": "PASS",
      "metrics": {
        "strategy_creation_time": 0.0009970664978027344,
        "backtest_time": 0.03689885139465332,
        "backtest_success": true,
        "factor_analysis_time": 0.0009982585906982422,
        "factor_analysis_success": true,
        "concurrent_analysis_time": 0.0009970664978027344,
        "concurrent_success": true,
        "memory_usage_mb": 227.8984375,
        "data_load_time": 0.01296544075012207,
        "data_load_success": true
      }
    },
    "error_handling": {
      "status": "FAIL",
      "total_tests": 3,
      "passed_tests": 2,
      "test_details": [
        {
          "test": "invalid_strategy_id",
          "status": "PASS",
          "error": "Strategy invalid_strategy_id not found"
        },
        {
          "test": "invalid_parameters",
          "status": "PASS",
          "error": "Valid alpha factor proposals required"
        },
        {
          "test": "invalid_date_range",
          "status": "FAIL",
          "result": {
            "status": "success",
            "results": {
              "strategy_id": "alpha_strategy_20251017_055327",
              "backtest_period": {
                "start_date": "2025-01-01T00:00:00",
                "end_date": "2025-12-31T00:00:00",
                "total_days": 155,
                "trading_days": 155
              },
              "performance_metrics": {
                "total_return": 0.289916992934318,
                "sharpe_ratio": 1.5598056654052423,
                "max_drawdown": -0.05,
                "volatility": 0.3021843861699071
              },
              "risk_metrics": {
                "var_95": -0.026405595715161278,
                "tracking_error": 0.3021843861699071,
                "beta": 1.0
              },
              "transaction_analysis": {
                "total_costs": 0.01,
                "cost_per_trade": 0.001,
                "turnover": 2.0
              },
              "factor_attribution": {
                "momentum": -0.008281000706745112
              },
              "detailed_results": {
                "returns": [
                  0.015043825023932145,
                  -0.028308305360653332,
                  -0.01995369810249389,
                  0.02142409539671719,
                  -0.012906684833476331,
                  -0.0016514226417434419,
                  0.018396160260545275,
                  -0.0016687787424044974,
                  0.0036019197118595967,
                  -0.02174999320556379,
                  -0.003518182325031839,
                  -0.011752017709450328,
                  0.025815375175024267,
                  0.005606961638695093,
                  0.01600080172178273,
                  0.017069842877347266,
                  0.015668593752517734,
                  -0.010828655764407016,
                  0.03880125954607584,
                  0.00966818754654912,
                  0.030918055779460624,
                  -0.035310838384599946,
                  0.007455526548230804,
                  -0.006076927035262102,
                  -0.025590148724236112,
                  0.003160363214123804,
                  -0.010174640275065299,
                  0.009138995573543886,
                  0.014235842912054375,
                  -0.02479804715103384,
                  0.01332659307031386,
                  -0.008675869958282689,
                  -0.03665856220204797,
                  -0.008729368827963952,
                  -0.05321875900081684,
                  0.026661126004471836,
                  -0.018799530029525006,
                  0.010159992850902674,
                  -0.013907815718754522,
                  0.006117673633541444,
                  -0.018634737639763074,
                  0.016453798772220918,
                  -0.013928526531149007,
                  0.02133266917410473,
                  0.0025884797926086895,
                  0.04176017336148802,
                  -0.021431288436914008,
                  0.0015544092626124937,
                  -0.022711270306837932,
                  0.007391083952618757,
                  -0.0010415492811607576,
                  -0.008559738536188438,
                  -0.0029379596733784897,
                  0.03584371616631655,
                  0.000813284151105066,
                  -0.017681246836380195,
                  0.03524464919795928,
                  0.021683594124546287,
                  -0.005298920107355479,
                  -0.014461150025219843,
                  -0.009644228613190142,
                  0.0025247714585128816,
                  -0.0011106928906945254,
                  -0.00904646336970109,
                  0.02954455792243725,
                  0.001995147858672128,
                  -0.015848688529320844,
                  -0.0034016161773991445,
                  -0.017211366766770608,
                  0.032516487655351145,
                  -0.0011876325466489666,
                  -0.03340452966679492,
                  -0.012269587205522396,
                  -0.009291554730594318,
                  0.0008252541652917366,
                  0.008092550836843604,
                  0.003471906701679734,
                  0.011980008238445184,
                  -0.005293164189676667,
                  0.004914959283107133,
                  0.002166585936512727,
                  0.018611402626885355,
                  -0.008333411550455107,
                  0.014707461755701427,
                  -0.013680137115773594,
                  0.013393083175900367,
                  0.028579721212413575,
                  -0.0190796868775499,
                  0.007199907927518442,
                  0.0052296097905184975,
                  -0.005298097052973285,
                  -0.018002761088158962,
                  -0.032690566705615744,
                  -0.02212844590381348,
                  -0.0036164083872455774,
                  -0.008364061342620771,
                  0.019616901415156957,
                  0.011870354180786146,
                  0.02077215145164035,
                  0.012386396423757447,
                  0.019081527708969388,
                  -0.008753787823996266,
                  0.06486788216817223,
                  0.03596141938404748,
                  -0.014677452070749518,
                  0.04345999621104047,
                  0.026743327622122236,
                  0.012905351489138392,
                  0.0034857414593301795,
                  -0.007776162727508455,
                  -0.01458783822265567,
                  -0.019216744479783034,
                  -0.006200535506353587,
                  -0.01642285121035542,
                  -0.007366272735109327,
                  -0.0006340240423263392,
                  0.004307993921019517,
                  0.0012243106328946795,
                  -0.022760773464866935,
                  -0.012566747121406971,
                  -0.00012019179110206533,
                  0.026364693108957227,
                  -0.00836380923071237,
                  0.0028455229305574437,
                  -0.03514739571862556,
                  0.0036975553109915146,
                  -0.0015588742894506761,
                  0.016384918060360198,
                  0.02017796466378614,
                  0.016463730938816885,
                  -0.029463544932444536,
                  -0.0001225946637191382,
                  0.040141266599734465,
                  0.02355041226662981,
                  0.014916259679255254,
                  -0.010407903345427419,
                  0.01813007589943049,
                  -0.0052034234075346054,
                  -0.01590478695453819,
                  0.019457641608534745,
                  -0.0052643213883915565,
                  0.03529225249271538,
                  -0.007753968716157745,
                  -0.008219725321536767,
                  0.025638449186239597,
                  0.01584752543881642,
                  0.008452761419472762,
                  0.04691012459204974,
                  -0.0016476710149053216,
                  0.011811573047024147,
                  0.0019894520978318373,
                  -0.0030970269988656925,
                  -0.02330342508655641,
                  0.0009773342089133804,
                  0.0019032449198231722
                ],
                "positions": [
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1,
                  0.1
                ],
                "trades": [
                  "mock_trade",
                  "mock_trade",
                  "mock_trade",
                  "mock_trade",
                  "mock_trade",
                  "mock_trade",
                  "mock_trade",
                  "mock_trade",
                  "mock_trade",
                  "mock_trade"
                ]
              },
              "benchmark_comparison": "SPY"
            }
          }
        }
      ]
    },
    "data_validation": {
      "status": "PASS",
      "total_tests": 3,
      "passed_tests": 3,
      "test_details": [
        {
          "test": "qlib_data_path",
          "status": "PASS",
          "path": "E:\\Desktop\\Backtest\\AgenticTradng-main\\qlib_data",
          "exists": true
        },
        {
          "test": "asset_scanning",
          "status": "PASS",
          "asset_count": 38,
          "assets": [
            "TMO",
            "MRK",
            "ABBV",
            "ACN",
            "LLY"
          ]
        },
        {
          "test": "data_loading",
          "status": "PASS",
          "asset": "TMO",
          "data_shape": [
            753,
            7
          ],
          "data_types": [
            "float64",
            "float64",
            "float64",
            "float64",
            "int64",
            "float64",
            "float64"
          ]
        }
      ]
    },
    "advanced_qlib_features": {
      "status": "PASS",
      "total_tests": 5,
      "passed_tests": 4,
      "test_details": [
        {
          "test": "qlib_system_init",
          "status": "PASS",
          "result": {
            "status": "success",
            "message": "Qlib already initialized",
            "provider_uri": "E:\\Desktop\\Backtest\\AgenticTradng-main\\datasets\\qlib_data",
            "region": "US"
          }
        },
        {
          "test": "qlib_dataset_setup",
          "status": "PASS",
          "result": {
            "status": "success",
            "dataset_config": {
              "class": "DatasetH",
              "module_path": "qlib.data.dataset",
              "kwargs": {
                "handler": {
                  "class": "Alpha158",
                  "module_path": "qlib.contrib.data.handler",
                  "kwargs": {
                    "start_time": "2020-01-01",
                    "end_time": "2023-12-31",
                    "fit_start_time": "2020-01-01",
                    "fit_end_time": "2023-12-31",
                    "instruments": "csi500",
                    "infer_processors": [
                      {
                        "class": "RobustZScoreNorm",
                        "kwargs": {}
                      },
                      {
                        "class": "Fillna",
                        "kwargs": {}
                      }
                    ],
                    "learn_processors": [
                      {
                        "class": "DropnaLabel",
                        "kwargs": {}
                      },
                      {
                        "class": "CSRankNorm",
                        "kwargs": {
                          "fields_group": "feature"
                        }
                      }
                    ]
                  }
                },
                "segments": {
                  "train": [
                    "2020-01-01",
                    "2022-12-31"
                  ],
                  "valid": [
                    "2023-01-01",
                    "2023-06-30"
                  ],
                  "test": [
                    "2023-07-01",
                    "2023-12-31"
                  ]
                }
              }
            },
            "instruments": "csi500",
            "time_range": "2020-01-01 to 2023-12-31",
            "fields_count": 7,
            "segments": {
              "train": [
                "2020-01-01",
                "2022-12-31"
              ],
              "valid": [
                "2023-01-01",
                "2023-06-30"
              ],
              "test": [
                "2023-07-01",
                "2023-12-31"
              ]
            }
          }
        },
        {
          "test": "qlib_strategy_creation",
          "status": "PASS",
          "result": {
            "status": "success",
            "strategy_id": "qlib_topk_20251017_055328",
            "strategy_type": "topk",
            "config": {
              "class": "TopkDropoutStrategy",
              "module_path": "qlib.contrib.strategy",
              "kwargs": {
                "topk": 30,
                "n_drop": 3,
                "method_sell": "bottom",
                "method_buy": "top",
                "hold_thresh": 1
              }
            },
            "parameters": {
              "topk": 30,
              "n_drop": 3,
              "method_sell": "bottom",
              "method_buy": "top",
              "hold_thresh": 1
            }
          }
        },
        {
          "test": "long_short_backtest",
          "status": "PASS",
          "result": {
            "status": "success",
            "backtest_type": "long_short_mock",
            "parameters": {
              "topk": 20,
              "period": "2023-01-01 to 2023-12-31",
              "simulation": "mock_data"
            },
            "returns": {
              "long": {
                